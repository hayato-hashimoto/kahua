;;
;; Kahua client interface for Emacs
;;
;;  Copyright (c) 2003 Scheme Arts, L.L.C., All rights reserved.
;;  Copyright (c) 2003 Time Intermedia Corporation, All rights reserved.
;;
;; $Id: kahua.el.in,v 1.3 2004/02/23 07:16:28 tahara Exp $
;;

(require 'cmuscheme)
(require 'kahua-shell)

;; Custom Variables:
(defgroup kahua nil
  "*Support for editing and running remote kahua server application."
  :group 'scheme
  :prefix "kahua-"
  :link '(url-link "http://www.kahua.org"))

(defcustom kahua-default-server nil
  "*Default kahua server."
  :type 'string
  :group 'kahua)

(defcustom kahua-default-user (or (getenv "USER")
				  (getenv "LOGNAME")
				  (user-login-name))
  "*Default username for running kahua server."
  :type 'string
  :group 'kahua)

(defcustom kahua-user-mode nil
  "*When kahua-user-mode is not nil, run kahua-shell with -user option."
  :type 'string
  :group 'kahua)


(add-hook 'inferior-scheme-mode-hook
          '(lambda () 
             (set-buffer-process-coding-system 'euc-jp 'euc-jp)))

(defvar *kahua-admin* "##bindir##/kahua-admin")

(defun run-kahua ()
  "Run kahua Emacs interface in *scheme* buffer.  Make sure you're not running other inferior scheme."
  (interactive)
  (run-scheme *kahua-admin*))

(provide 'kahua)

;; Local variables:
;; mode: emacs-lisp
;; end:



